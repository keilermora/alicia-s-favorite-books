"use strict";(self.webpackChunkreact_alicia_favorite_books=self.webpackChunkreact_alicia_favorite_books||[]).push([[184,355],{5058:function(e,t,r){r.d(t,{db:function(){return l}});var n=r(4702),a=r(2481),i={apiKey:"AIzaSyB6UAap4ggzb5MfgbC3Sydyxv-eCvhZx00",authDomain:"alicia-s-favorite-books.firebaseapp.com",projectId:"alicia-s-favorite-books",storageBucket:"alicia-s-favorite-books.appspot.com",messagingSenderId:"700189519272",appId:"1:700189519272:web:3cb7d6c518b0403714c19d"};(0,n.ZF)(i);var l=(0,a.ad)()},1184:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var n,a,i,l,c,s,o,u,d,f,h,m,p,x,v,j,g=r(4165),b=r(1413),_=r(5861),E=r(2791),k=r(2481),S=r(5058),y=r(9),w=r(5273),T=["title","titleId"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function C(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F(e,t){var r=e.title,g=e.titleId,b=C(e,T);return E.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:277,height:257,viewBox:"0 0 277.2 256.6",ref:t,"aria-labelledby":g},b),r?E.createElement("title",{id:g},r):null,n||(n=E.createElement("path",{d:"m270.1 136.6c0 66.3-68.1 120-129.6 120-55.4 0-129.6-53.7-129.6-120 0-66.3 58-120 129.6-120 71.5 0 129.6 53.7 129.6 120",fill:"#bbb"})),a||(a=E.createElement("path",{d:"M0 54.9C0 24.6 21.1 0 47.2 0c26 0 47.2 24.6 47.2 54.9 0 30.3-21.1 54.9-47.2 54.9C21.1 109.7 0 85.2 0 54.9",fill:"#010101"})),i||(i=E.createElement("path",{d:"m182.8 56.4c0-30.3 21.1-54.9 47.2-54.9 26.1 0 47.2 24.6 47.2 54.9 0 30.3-21.1 54.9-47.2 54.9-26 0-47.2-24.6-47.2-54.9",fill:"#010101"})),l||(l=E.createElement("path",{d:"m18.2 51.4c0-17.7 12.3-32.1 27.6-32.1 15.2 0 27.6 14.4 27.6 32.1 0 17.7-12.4 32.1-27.6 32.1-15.2 0-27.6-14.4-27.6-32.1",fill:"#fcc"})),c||(c=E.createElement("path",{d:"m204.1 51.4c0-17.7 12.3-32.1 27.6-32.1 15.2 0 27.6 14.4 27.6 32.1 0 17.7-12.3 32.1-27.6 32.1-15.2 0-27.6-14.4-27.6-32.1",fill:"#fcc"})),s||(s=E.createElement("path",{d:"m140.6 13.5c-72.2 0-130.7 53.3-130.7 119 0 65.7 74.9 119 130.7 119 62 0 130.7-53.3 130.7-119 0-65.7-58.5-119-130.7-119zm22 207.9c-10.6 0-19.3-5.4-20.6-12.4-1.3 7-10 12.4-20.6 12.4-11.5 0-20.8-6.4-20.8-14.3 0-0.6 0.1-1.2 0.2-1.7 1.3 7.1 10 12.5 20.6 12.5 10.4 0 19-5.3 20.5-12.2 0-0.1 0-0.2 0-0.3 0 0 0 0 0 0.1 0 0 0-0.1 0-0.1 0 0.1 0 0.2 0.1 0.3 1.5 6.9 10.1 12.2 20.5 12.2 10.6 0 19.3-5.5 20.6-12.5 0.1 0.6 0.2 1.2 0.2 1.7 0 7.9-9.3 14.3-20.8 14.3z",fill:"#fff"})),o||(o=E.createElement("path",{d:"m113.9 95c19 8.7 24.5 30.4 12.3 48.5-12.3 18.1-37.6 25.7-56.6 17-19-8.7-24.5-30.4-12.3-48.5 12.3-18.1 37.6-25.7 56.7-17",fill:"#010101"})),u||(u=E.createElement("path",{d:"m169.5 95.1c-19 8.7-24.5 30.4-12.3 48.5 12.3 18.1 37.6 25.7 56.6 17 19-8.7 24.5-30.4 12.3-48.5-12.3-18.1-37.6-25.7-56.6-17",fill:"#010101"})),d||(d=E.createElement("path",{d:"m218.2 127.2c0 14.6-11.8 26.4-26.4 26.4-14.6 0-26.4-11.8-26.4-26.4 0-14.6 11.8-26.4 26.4-26.4 14.6 0 26.4 11.8 26.4 26.4",fill:"#594a42"})),f||(f=E.createElement("path",{d:"m119.9 127.6c0 14.6-11.8 26.4-26.4 26.4-14.6 0-26.4-11.8-26.4-26.4 0-14.6 11.8-26.4 26.4-26.4 14.6 0 26.4 11.8 26.4 26.4",fill:"#594a42"})),h||(h=E.createElement("path",{d:"m119.9 127.6c0 12.4-10.1 22.5-22.5 22.5-12.4 0-22.5-10.1-22.5-22.5 0-12.4 10.1-22.5 22.5-22.5 12.4 0 22.5 10.1 22.5 22.5",fill:"#010101"})),m||(m=E.createElement("path",{d:"m218.2 127.2c0 12.4-10.1 22.5-22.5 22.5-12.4 0-22.5-10.1-22.5-22.5 0-12.4 10.1-22.5 22.5-22.5 12.4 0 22.5 10.1 22.5 22.5",fill:"#010101"})),p||(p=E.createElement("path",{d:"m218.2 127.2c0 3.8-3.1 6.9-6.9 6.9-3.8 0-6.9-3.1-6.9-6.9 0-3.8 3.1-6.9 6.9-6.9 3.8 0 6.9 3.1 6.9 6.9z",fill:"#fff"})),x||(x=E.createElement("path",{d:"m119.9 127.6c0 3.8-3.1 6.9-6.9 6.9-3.8 0-6.9-3.1-6.9-6.9 0-3.8 3.1-6.9 6.9-6.9 3.8 0 6.9 3.1 6.9 6.9z",fill:"#fff"})),v||(v=E.createElement("path",{d:"m160.6 186.5c0 4.8-8 14.3-18 14.3-9.9 0-18-9.4-18-14.3 0-4.8 8-8.7 18-8.7 9.9 0 18 3.9 18 8.7z",fill:"#010101"})),j||(j=E.createElement("path",{d:"m142.7 184.2c0 1.8-2.5 3.2-5.6 3.2-3.1 0-5.6-1.5-5.6-3.2 0-1.7 2.5-3.2 5.6-3.2 3.1 0 5.6 1.4 5.6 3.2z",fill:"#797778"})))}var Z=E.forwardRef(F),A=(r.p,function(e){return e.sort().reduce((function(e,t){return e.slice(-1)[0]!==t&&e.push(t),e}),[])}),I=r(5443),L=r(9439),O=r(6445),z=function(){var e=(0,E.useContext)(O.Z);if(!e)throw new Error("useFilterState must be used within the FilterStateCtx");return e},G=r(1087),R=function(){var e=(0,G.lr)(),t=(0,L.Z)(e,2),r=t[0],n=t[1];return{queryParams:r,setQueryParams:(0,E.useMemo)((function(){return function(e){var t={},r=e.text,a=e.author,i=e.genre,l=e.saga;r&&(t.text=r),a&&(t.author=a),i&&(t.genre=i),l&&(t.saga=l),n(t)}}),[n])}},D=r(3022),M="Filter_filter__RGCC2",P="Filter_inputGroup__2CXj-",U=r(184),B=function(){var e=(0,E.useState)(!1),t=(0,L.Z)(e,2),r=t[0],n=t[1],a=z(),i=a.filterState,l=a.dispatchFilterState,c=(0,I.Z)().firebaseDataState,s=R(),o=s.queryParams,u=s.setQueryParams,d=i.filterText,f=i.selectedAuthor,h=i.selectedGenre,m=i.selectedSaga,p=c.authors,x=c.genres,v=c.sagas;(0,E.useEffect)((function(){var e=i.filterText,t=i.selectedAuthor,r=i.selectedGenre,n=i.selectedSaga,a={filterText:o.get("text")||e,selectedAuthor:o.get("author")||t,selectedGenre:o.get("genre")||r,selectedSaga:o.get("saga")||n};l({type:D.k6.SET_FILTER,payload:a})}),[]),(0,E.useEffect)((function(){if(r){var e=i.filterText,t=i.selectedAuthor,n=i.selectedGenre,a=i.selectedSaga;u({text:e,author:t,genre:n,saga:a})}}),[i,r,u]);var j=(0,E.useMemo)((function(){return function(){r||n(!0)}}),[r]),g=(0,E.useMemo)((function(){return function(e){j(),l({type:D.k6.SET_FILTER_TEXT,payload:e.target.value})}}),[l,j]),b=(0,E.useMemo)((function(){return function(e){j(),l({type:D.k6.SET_FILTER_AUTHOR,payload:e.target.value})}}),[l,j]),_=(0,E.useMemo)((function(){return function(e){j(),l({type:D.k6.SET_FILTER_GENRE,payload:e.target.value})}}),[l,j]),k=(0,E.useMemo)((function(){return function(e){j(),l({type:D.k6.SET_FILTER_SAGA,payload:e.target.value})}}),[l,j]);return(0,U.jsxs)("form",{className:M,children:[(0,U.jsxs)("div",{className:P,children:[(0,U.jsx)("label",{htmlFor:"selectedAuthor",children:"Autor"}),(0,U.jsxs)("select",{id:"selectedAuthor",onChange:b,value:f,children:[(0,U.jsx)("option",{value:"",children:"Todos"}),p.map((function(e){return(0,U.jsx)("option",{value:e,children:e},e)}))]})]}),(0,U.jsxs)("div",{className:P,children:[(0,U.jsx)("label",{htmlFor:"selectedGenre",children:"G\xe9nero"}),(0,U.jsxs)("select",{id:"selectedGenre",onChange:_,value:h,children:[(0,U.jsx)("option",{value:"",children:"Todos"}),x.map((function(e){return(0,U.jsx)("option",{value:e,children:e},e)}))]})]}),(0,U.jsxs)("div",{className:P,children:[(0,U.jsx)("label",{htmlFor:"selectedSaga",children:"Saga"}),(0,U.jsxs)("select",{id:"selectedSaga",onChange:k,value:m,children:[(0,U.jsx)("option",{value:"",children:"Todas"}),v.map((function(e){return(0,U.jsx)("option",{value:e,children:e},e)}))]})]}),(0,U.jsxs)("div",{className:P,children:[(0,U.jsx)("label",{htmlFor:"filterText",children:"T\xedtulo"}),(0,U.jsx)("input",{id:"filterText",type:"text",value:d,onChange:g})]})]})},q="BookListItem_bookListItem__1lSD-",H=(0,E.memo)((function(e){var t=e.book;return(0,U.jsx)("div",{className:q,children:(0,U.jsx)(G.rU,{to:"/book/".concat(t.id),children:(0,U.jsx)("img",{src:t.imageUrl,alt:t.title,width:226,height:350,loading:"lazy"})})})})),J="BookList_bookList__TJkum",W=function(){var e=(0,I.Z)().firebaseDataState,t=z().filterState,r=e.books,n=t.filterText,a=t.selectedAuthor,i=t.selectedGenre,l=t.selectedSaga;if(!r||!r.length)return(0,U.jsx)("div",{className:J,children:(0,U.jsx)("h1",{children:"Cargando..."})});var c=function(e){var t=e;return""!==a&&(t=t.filter((function(e){return e.author.includes(a)}))),""!==i&&(t=t.filter((function(e){return e.genre.includes(i)}))),""!==l&&(t=t.filter((function(e){return e.saga.includes(l)}))),""!==n&&(t=t.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))),t}(r);return c.length?(0,U.jsx)("div",{className:J,children:c.map((function(e){return(0,U.jsx)(H,{book:e},e.id)}))}):(0,U.jsx)("div",{className:J,children:(0,U.jsx)("h1",{children:"Sin resultados \xaf\\_(\u30c4)_/\xaf"})})},X="Home_home__MiZqS",Q="Home_title__SzuRj",V="Home_books__2VbSV",Y=function(){var e=(0,_.Z)((0,g.Z)().mark((function e(t){var r,n,a,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,(0,k.PL)((0,k.hJ)(S.db,"books"));case 3:e.sent.forEach((function(e){r.push((0,b.Z)({id:e.id},e.data()))})),n=A(r.map((function(e){return e.author}))),a=A(r.map((function(e){return e.genre}))),i=A(r.map((function(e){return e.saga}))),t({type:w.xj.SET_FIREBASE_DATA,payload:{books:r,authors:n,genres:a,sagas:i}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,I.Z)(),t=e.firebaseDataState,r=e.dispatchFirebaseData,n=t.books;return(0,E.useEffect)((function(){n&&!n.length&&Y(r)}),[n,r]),(0,U.jsxs)("main",{className:X,children:[(0,U.jsx)("section",{className:Q,children:(0,U.jsxs)(y.W2,{children:[(0,U.jsx)("h1",{children:"Libros favoritos de Alicia"}),(0,U.jsx)(Z,{width:"128",height:"120"})]})}),(0,U.jsx)("section",{className:V,children:(0,U.jsxs)(y.W2,{children:[(0,U.jsx)("div",{className:"filter",children:(0,U.jsx)(B,{})}),(0,U.jsx)("div",{className:"list",children:(0,U.jsx)(W,{})})]})})]})}},3069:function(e,t,r){r.r(t);var n=r(7689),a=r(9),i=r(184);t.default=function(){return(0,i.jsx)(a._d,{children:(0,i.jsxs)(a.pU,{children:[(0,i.jsx)(a.wp,{}),(0,i.jsx)(n.j3,{}),(0,i.jsx)(a.$_,{})]})})}},9:function(e,t,r){r.d(t,{ee:function(){return i},zx:function(){return s},W2:function(){return u},$_:function(){return f},wp:function(){return m},_d:function(){return E},pU:function(){return S}});var n="Anchor_anchor__hulck",a=r(184),i=function(e){var t=e.children,r=e.href;return(0,a.jsx)("a",{className:n,href:r,target:"_blank",rel:"noopener noreferrer",children:t})},l=r(1087),c={button:"Button_button__LLHjq"},s=function(e){var t=e.children,r=e.className,n=e.href,i=e.onClick,s=[c.button,r].join(" ");return n?(0,a.jsx)(l.rU,{className:s,to:n,children:t}):(0,a.jsx)("button",{className:s,onClick:i,children:t})},o="Container_container__ilgq1",u=function(e){var t=e.children;return(0,a.jsx)("div",{className:o,children:t})},d="Footer_footer__jFJGg",f=function(){var e=(new Date).getFullYear();return(0,a.jsx)("footer",{className:d,children:(0,a.jsxs)("small",{children:["\xa9 ",e," - The books and their images belongs to their author."]})})},h=(r(3069),"Navbar_navbar__YXzIT"),m=function(){return(0,a.jsx)("nav",{className:h,children:(0,a.jsx)(u,{children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.rU,{to:"/",children:"Inicio"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.rU,{to:"/about",children:"Acerca de"})})]})})})},p=r(4165),x=r(5861),v=r(2791),j=r(7693),g=r(1932),b=JSON.parse('{"detectRetina":true,"fpsLimit":60,"particles":{"color":{"value":"#ffffff"},"move":{"enable":true,"speed":2,"random":true},"number":{"value":40},"opacity":{"value":0.5,"random":true},"shape":{"type":"circle"},"size":{"random":true,"value":50}}}'),_="ParticlesBackground_particles__TZIrq",E=function(e){var t=e.children,r=(0,v.useCallback)(function(){var e=(0,x.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.R)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),n=b;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:_,options:n,init:r}),t]})},k=r(7689),S=function(e){var t=e.children,r=(0,k.TH)().pathname;return(0,v.useEffect)((function(){window.scrollTo(0,0)}),[r]),(0,a.jsx)(a.Fragment,{children:t})}},5443:function(e,t,r){var n=r(2791),a=r(1267);t.Z=function(){var e=(0,n.useContext)(a.Z);if(!e)throw new Error("useFirebaseDataState must be used within the FirebaseDataStateCtx");return e}}}]);
//# sourceMappingURL=184.aec7ad36.chunk.js.map